<template name="bebeForm">
   {{#autoForm collection="Persons" doc=doc id=id type=type }}
  <h2>{{title}}</h2>
  <div class="form-inline">
    {{> afQuickField name="buscasBebe" defaultValue=false}}
  </div>
  <span class="help-block"></span>

  <ul class="nav nav-tabs nav-justified bebe-tabs" role="tablist">
    <li role="presentation" class="active"><a href="#datosbasicos" aria-controls="datosbasicos" role="tab" data-toggle="tab">Datos básicos</a></li>
    {{#if afFieldValueIs name="buscasBebe" value=true}}
      <li role="presentation"><a href="#fallecimiento" aria-controls="fallecimiento" role="tab" data-toggle="tab">Fallecimiento</a></li>
      <li role="presentation"><a href="#infomedica" aria-controls="infomedica" role="tab" data-toggle="tab">Personal médico</a></li>
      <li role="presentation"><a href="#funcionarios" aria-controls="funcionarios" role="tab" data-toggle="tab">Funcionarios</a></li>
      {{/if}}
      <li role="presentation"><a href="#otros" aria-controls="otros" role="tab" data-toggle="tab">Otras informaciones</a></li>
    </ul>

    <div class="tab-content bebe-tab-content">
      <div role="tabpanel" class="tab-pane active" id="datosbasicos">
        <legend>Datos del presunto robo</legend>

        <div class="form-inline">
          {{> afQuickField name="fechaNacimiento" buttonClasses="glyphicon glyphicon-calendar" }}
          {{> afQuickField name="fechaNacimientoEsAprox" defaultValue=false}}
        </div>

        {{> afQuickField name="lugarNacimiento" id="lugarNacimiento" placeholder="Nombre del hospital si lo conoce" }}
        {{> afQuickField name="lugarNacimientoDireccion" id="lugarNacimientoDireccion" placeholder="Dirección del lugar de nacimiento si lo conoce" }}
        <div class="form-inline">

          {{> afQuickField name="lugarNacimientoPais" options="allowed" firstOption=false value="España" label-style="display: none" }}
          {{#if afFieldValueIs name="lugarNacimientoPais" value="España"}}          {{/if}}
          {{> afQuickField name="lugarNacimientoProvincia" type="select" firstOption=false class="ps-prov" label-style="display: none" }}
          {{> afQuickField name="lugarNacimientoMunicipio" type="select"  firstOption=false class="ps-mun" label-style="display: none" }}

        </div>

        <div id="lugarNacimientoMap"></div>

        <div id="lugarNacimientoDetalle">
          Latitude:     <span data-geo="lat"></span>
          Longitude:    <span data-geo="lng"></span>
          Dirección:      <span data-geo="formatted_address"></span>
          Comunidad: <span data-geo="administrative_area_level_1"></span>
          País: <span data-geo="country"></span>
        </div>
        {{> afQuickField name='nombreCompleto' placeholder="Nombre y apellidos" }}
        {{> afQuickField name="sexo" options="allowed" firstOption="» Selecciona uno"}}
        {{> afQuickField name="nombreCompletoMadre" placeholder="Nombre y apellidos" }}
        {{> afQuickField name="nombreCompletoPadreOConyuge" placeholder="Nombre y apellidos" }}
      </div>

      <div role="tabpanel" class="tab-pane" id="fallecimiento">
        <div class="form-inline">
          {{> afQuickField name="fechaFallecimiento" buttonClasses="glyphicon glyphicon-calendar" }}
          {{> afQuickField name="fechaFallecimientoEsAprox"}}
        </div>

        {{> afQuickField name="motivoMuerte" rows=5}}
        <div class="form-inline">
          {{> afQuickField name="vistoCadaver"}}
        </div>
        {{#if afFieldValueIs name="vistoCadaver" value=false}}
        {{> afQuickField name="noVistoCadaverRazon" }}
        {{#if afFieldValueIs name="noVistoCadaverRazon" value="otras"}}
        {{> afQuickField name="noVistoCadaverOtrasRazones" rows=4}}
        {{/if}}
        {{/if}}

        <div class="form-inline">
          {{> afQuickField name="entierroPorHospital"}}
        </div>
        {{#if afFieldValueIs name="entierroPorHospital" value=true}}
        {{> afQuickField name="entierroPorHospitalMotivos" }}
        {{#if afFieldValueIs name="entierroPorHospitalMotivos" value="otras"}}
        {{> afQuickField name="entierroPorHospitalOtrasRazones" rows=4}}
        {{/if}}
        {{/if}}

        {{> afQuickField name="cementerioEnterrado" id="cementerioEnterrado" placeholder="Nombre o dirección del cementerio si lo conoce"}}
        <div id="cementerioEnterradoMap"></div>

        <div class="form-inline">
          {{> afQuickField name="posibilidadPruebasADN"}}
        </div>
        <div class="form-inline">
          {{> afQuickField name="sepulturaTemporalPruebasADN"}}
        </div>
        <div class="form-inline">
          {{> afQuickField name="enOsarioComun"}}
          {{#if afFieldValueIs name="enOsarioComun" value=true}}
          {{> afQuickField name="enOsarioComunDesdeFecha" buttonClasses="glyphicon glyphicon-calendar" }}
          {{/if}}
        </div>
        {{> afQuickField name="motivosSospecha" rows=15}}
      </div>

      <div role="tabpanel" class="tab-pane" id="infomedica">
        <legend>Personal médico que pudiera tener información o estar implicada en el presunto robo:</legend>
        {{> afQuickField name="nombreCompletoMedico" placeholder="Nombre y apellidos, sobrenombre o apodo" }}
        {{> afQuickField name="nombreCompletoMatrona" placeholder="Nombre y apellidos, sobrenombre o apodo"}}
        {{> afQuickField name="nombreCompletoEnfermera" placeholder="Nombre y apellidos, sobrenombre o apodo"}}
        {{> afQuickField name="nombreOtroPersonalMedico" placeholder="Lista de nombres y apellidos, sobrenombres o apodos" rows=4}}
      </div>
      <div role="tabpanel" class="tab-pane" id="funcionarios">
        <legend>Funcionarios / trabajadores que pudieran tener información o estar implicados en el presunto robo:</legend>
        {{> afQuickField name="nombreFuncionariosRegCivil" placeholder="Lista de nombres y apellidos, sobrenombres o apodos" rows=2 }}
        {{> afQuickField name="nombreFuncionariosCementario" placeholder="Lista de nombres y apellidos, sobrenombres o apodos" rows=2 }}
        {{> afQuickField name="nombreTrabajadoresFuneraria" placeholder="Lista de nombres y apellidos, sobrenombres o apodos" rows=2 }}
        {{> afQuickField name="nombreOtrosFuncionariosOTrabajadores" placeholder="Lista de nombres y apellidos, sobrenombres o apodos" rows=4 }}
      </div>
      <div role="tabpanel" class="tab-pane" id="otros">
        {{> afQuickField name="gestionesRealizadasYDocumentos" rows=4}}
        <div class="form-inline">
          {{> afQuickField name="denunciaEnComisaria"}}
        </div>
        {{#if afFieldValueIs name="denunciaEnComisaria" value=true}}
        {{> afQuickField name="denunciaEnComisariaEstadoTramitacion" rows=4}}
        {{/if}}
        <div class="form-inline">
          {{> afQuickField name="denunciaEnFiscalia"}}
        </div>
        {{#if afFieldValueIs name="denunciaEnFiscalia" value=true}}
        {{> afQuickField name="denunciaEnFiscaliaEstadoTramitacion" rows=4}}
        {{/if}}
        <div class="form-inline">
          {{> afQuickField name="denunciaEnJuzgado"}}
        </div>
        {{#if afFieldValueIs name="denunciaEnJuzgado" value=true}}
        {{> afQuickField name="denunciaEnJuzgadoEstadoTramitacion" rows=4}}
        {{/if}}
      </div>
    </div>
    <p class="navbar-text">
      <button type="submit" value="Submit"  class="btn btn-primary">{{btnTitle}}</button>
      {{#if isEqual type "update"}}
      <a class="btn btn-default" href="{{pathFor 'underConstruction'}}" role="button">{{_"Comment"}}</a>
      {{/if}}
      <a class="btn btn-default" href="{{pathFor 'personsList'}}" role="button">{{_"Cancel"}}</a>
    </p>
  {{/autoForm}}
</template>
